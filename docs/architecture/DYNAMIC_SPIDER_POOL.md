# ğŸ•·ï¸ åŠ¨æ€èœ˜è››æ± ç³»ç»Ÿ - å®Œæ•´æŒ‡å—

## ğŸ“Š ç³»ç»Ÿæ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäºæ•°æ®åº“çš„**åŠ¨æ€èœ˜è››æ± ç®¡ç†ç³»ç»Ÿ**ï¼Œé€šè¿‡adminåå°ç»Ÿä¸€ç®¡ç†æ‰€æœ‰èœ˜è››æ± åŸŸåå’Œå†…å®¹ï¼Œæ”¯æŒå®æ—¶æ›´æ–°ã€æ€§èƒ½è¿½è¸ªå’Œé›†ä¸­ç›‘æ§ã€‚

### æ ¸å¿ƒä¼˜åŠ¿

âœ… **é›†ä¸­ç®¡ç†** - æ‰€æœ‰9ä¸ªèœ˜è››æ± åŸŸååœ¨ä¸€ä¸ªåå°ç®¡ç†
âœ… **åŠ¨æ€æ›´æ–°** - æ— éœ€é‡æ–°éƒ¨ç½²ï¼Œå†…å®¹å®æ—¶ç”Ÿæ•ˆ
âœ… **æ€§èƒ½è¿½è¸ª** - è‡ªåŠ¨è®°å½•è®¿é—®é‡ã€çˆ¬è™«è®¿é—®æ•°æ®
âœ… **æ™ºèƒ½åˆ†å‘** - æ ¹æ®ä¸»é¢˜è‡ªåŠ¨ç”Ÿæˆå·®å¼‚åŒ–å†…å®¹
âœ… **å®šæ—¶ä»»åŠ¡** - æ”¯æŒè‡ªåŠ¨åˆ·æ–°å’Œå†…å®¹è½®æ¢

### æ¶æ„å¯¹æ¯”

| ç‰¹æ€§ | é™æ€æ–‡ä»¶æ–¹å¼ | åŠ¨æ€æ•°æ®åº“æ–¹å¼ âœ… |
|------|------------|----------------|
| å†…å®¹æ›´æ–° | éœ€è¦é‡æ–°ç”Ÿæˆ+éƒ¨ç½² | æ•°æ®åº“æ›´æ–°å³ç”Ÿæ•ˆ |
| ç®¡ç†æ–¹å¼ | æ‰‹åŠ¨SSHåˆ°å„VPS | ç»Ÿä¸€Adminåå° |
| æ€§èƒ½è¿½è¸ª | ä¾èµ–æ—¥å¿—åˆ†æ | å†…ç½®ç»Ÿè®¡ç³»ç»Ÿ |
| æ‰©å±•æ€§ | å›°éš¾ | è½»æ¾æ·»åŠ æ–°åŸŸå |
| ç»´æŠ¤æˆæœ¬ | é«˜ | ä½ |

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Admin Backend (adminseohub.xyz)     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Admin UI - èœ˜è››æ± ç®¡ç†              â”‚   â”‚
â”‚  â”‚  - å†…å®¹æºç®¡ç†                        â”‚   â”‚
â”‚  â”‚  - æ‰¹é‡ç”Ÿæˆé¡µé¢                      â”‚   â”‚
â”‚  â”‚  - æ€§èƒ½ç›‘æ§                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  PostgreSQL Database                 â”‚   â”‚
â”‚  â”‚  - spider_pool_sources (å†…å®¹æº)      â”‚   â”‚
â”‚  â”‚  - spider_pool_pages (é¡µé¢å†…å®¹)      â”‚   â”‚
â”‚  â”‚  - domain_aliases (åŸŸåé…ç½®)         â”‚   â”‚
â”‚  â”‚  - spider_logs (è®¿é—®æ—¥å¿—)            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Public API (/api/p/[domain])       â”‚   â”‚
â”‚  â”‚  - æä¾›HTMLé¡µé¢                      â”‚   â”‚
â”‚  â”‚  - ç”Ÿæˆsitemap.xml                   â”‚   â”‚
â”‚  â”‚  - ç”Ÿæˆrobots.txt                    â”‚   â”‚
â”‚  â”‚  - è®°å½•è®¿é—®ç»Ÿè®¡                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Nginx åå‘ä»£ç† (VPS)    â”‚
        â”‚                          â”‚
        â”‚  autopushnetwork.xyz  â”€â”€â”€â”¼â”€â”€â†’  Admin API
        â”‚  contentpoolzone.site â”€â”€â”€â”¼â”€â”€â†’  Admin API
        â”‚  crawlboostnet.xyz    â”€â”€â”€â”¼â”€â”€â†’  Admin API
        â”‚  ... (å…¶ä»–6ä¸ªåŸŸå)         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ æ•°æ®åº“ç»“æ„

### SpiderPoolPage (èœ˜è››æ± é¡µé¢)

```typescript
{
  id: string                    // é¡µé¢ID
  pageNum: number              // é¡µç  1-150
  slug: string                 // URL: page-0001
  title: string                // é¡µé¢æ ‡é¢˜
  description: string          // SEOæè¿°
  keywords: string[]           // SEOå…³é”®è¯
  content: string              // å®Œæ•´HTMLå†…å®¹
  theme: string                // ä¸»é¢˜: auto, content, crawl...
  status: 'ACTIVE'             // çŠ¶æ€
  published: boolean           // æ˜¯å¦å‘å¸ƒ
  views: number                // æ€»è®¿é—®é‡
  crawlerVisits: number        // çˆ¬è™«è®¿é—®é‡
  lastCrawled: Date           // æœ€åçˆ¬å–æ—¶é—´
  domainAliasId: string        // å…³è”åŸŸå
}
```

### SpiderPoolSource (å†…å®¹æº)

```typescript
{
  id: string
  name: string                 // website-1, website-2, website-tg
  filePath: string            // HTMLæ–‡ä»¶è·¯å¾„
  paragraphs: string[]        // æå–çš„æ®µè½
  headings: string[]          // æå–çš„æ ‡é¢˜
  keywords: string[]          // å…³é”®è¯
  totalParagraphs: number
  totalHeadings: number
  totalKeywords: number
  status: 'ACTIVE'
  lastUsed: Date
}
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åˆå§‹åŒ–æ•°æ®åº“

```bash
# æ¨é€æ•°æ®åº“schema
npm run db:push
```

### 2. åˆå§‹åŒ–å†…å®¹æº

```bash
# æ–¹æ³•1: é€šè¿‡APIï¼ˆæ¨èï¼‰
curl -X POST https://adminseohub.xyz/api/spider-pool/sources \
  -H "Authorization: Bearer YOUR_TOKEN"

# æ–¹æ³•2: ç›´æ¥è¿è¡Œè„šæœ¬
npx tsx packages/database/scripts/init-spider-sources.ts
```

è¿™å°†ä»3ä¸ªHTMLæ–‡ä»¶æå–å†…å®¹ï¼š
- seo-website-1/ç”µæŠ¥ä¸­æ–‡ç‰ˆ - Telegramå®˜ç½‘2.html
- seo-website-2/çº¸é£æœº3.html
- seo-website-tg/TGä¸­æ–‡çº¸é£æœº1/Telegramå®˜ç½‘ - Telegramä¸‹è½½.html

### 3. åˆ›å»ºèœ˜è››æ± åŸŸå

åœ¨Adminåå°æ·»åŠ 9ä¸ªåŸŸååˆ° DomainAlias:

```typescript
// åœ¨ Admin UI æˆ–é€šè¿‡APIæ·»åŠ 
const spiderDomains = [
  // VPS 1
  { domain: 'autopushnetwork.xyz', theme: 'auto', siteName: 'è‡ªåŠ¨åŒ–æ¨é€ç½‘ç»œ' },
  { domain: 'contentpoolzone.site', theme: 'content', siteName: 'å†…å®¹æ± ä¸“åŒº' },
  { domain: 'crawlboostnet.xyz', theme: 'crawl', siteName: 'çˆ¬è™«ä¼˜åŒ–ç½‘ç»œ' },

  // VPS 2
  { domain: 'crawlenginepro.xyz', theme: 'engine', siteName: 'æœç´¢å¼•æ“ä¸“å®¶' },
  { domain: 'linkpushmatrix.site', theme: 'link', siteName: 'é“¾æ¥æ¨é€çŸ©é˜µ' },
  { domain: 'rankspiderchain.xyz', theme: 'rank', siteName: 'æ’åèœ˜è››é“¾' },

  // VPS 3
  { domain: 'seohubnetwork.xyz', theme: 'seo', siteName: 'SEOä¸­å¿ƒç½‘ç»œ' },
  { domain: 'spidertrackzone.xyz', theme: 'track', siteName: 'èœ˜è››è¿½è¸ªåŒº' },
  { domain: 'trafficboostflow.site', theme: 'traffic', siteName: 'æµé‡å¢é•¿å¹³å°' },
]
```

### 4. ç”Ÿæˆèœ˜è››æ± é¡µé¢

```bash
# æ–¹æ³•1: ä¸ºæ‰€æœ‰åŸŸåæ‰¹é‡ç”Ÿæˆï¼ˆæ¨èï¼‰
curl -X POST https://adminseohub.xyz/api/spider-pool/generate \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{}'

# æ–¹æ³•2: ä¸ºå•ä¸ªåŸŸåç”Ÿæˆ
curl -X POST https://adminseohub.xyz/api/spider-pool/generate \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "domainAliasId": "domain_id_here",
    "theme": "auto",
    "pageCount": 150
  }'
```

ç”Ÿæˆå®Œæˆåï¼Œæ•°æ®åº“å°†åŒ…å«ï¼š
- 9ä¸ªåŸŸå Ã— 150é¡µ = **1,350ä¸ªèœ˜è››æ± é¡µé¢**

### 5. é…ç½®Nginxåå‘ä»£ç†

æ¯ä¸ªVPSä¸Šçš„Nginxé…ç½®ï¼š

#### VPS 1 é…ç½® (3ä¸ªåŸŸå)

```nginx
# /etc/nginx/sites-available/autopushnetwork.xyz
server {
    listen 80;
    server_name autopushnetwork.xyz www.autopushnetwork.xyz;

    # æ—¥å¿—
    access_log /www/wwwlogs/autopushnetwork.xyz-access.log;
    error_log /www/wwwlogs/autopushnetwork.xyz-error.log;

    # åå‘ä»£ç†åˆ°Admin API
    location / {
        # æå–è¯·æ±‚è·¯å¾„
        set $slug $uri;

        # ä»£ç†åˆ°admin backend
        proxy_pass https://adminseohub.xyz/api/p/autopushnetwork.xyz?slug=$slug;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;

        # ç¼“å­˜é…ç½®
        proxy_cache_valid 200 1h;
        proxy_cache_bypass $http_pragma $http_authorization;
    }

    # sitemap.xml
    location = /sitemap.xml {
        proxy_pass https://adminseohub.xyz/api/p/autopushnetwork.xyz?type=sitemap;
        proxy_set_header Host $host;
        add_header Content-Type application/xml;
    }

    # robots.txt
    location = /robots.txt {
        proxy_pass https://adminseohub.xyz/api/p/autopushnetwork.xyz?type=robots;
        proxy_set_header Host $host;
        add_header Content-Type text/plain;
    }
}

# å¯¹ contentpoolzone.site å’Œ crawlboostnet.xyz é‡å¤ç›¸åŒé…ç½®ï¼Œæ›¿æ¢åŸŸåå³å¯
```

#### æ‰¹é‡ç”ŸæˆNginxé…ç½®è„šæœ¬

```bash
#!/bin/bash
# generate-spider-nginx.sh

DOMAINS=(
    "autopushnetwork.xyz"
    "contentpoolzone.site"
    "crawlboostnet.xyz"
    "crawlenginepro.xyz"
    "linkpushmatrix.site"
    "rankspiderchain.xyz"
    "seohubnetwork.xyz"
    "spidertrackzone.xyz"
    "trafficboostflow.site"
)

ADMIN_API="https://adminseohub.xyz"

for domain in "${DOMAINS[@]}"; do
    cat > "/etc/nginx/sites-available/${domain}.conf" << EOF
server {
    listen 80;
    server_name ${domain} www.${domain};

    access_log /www/wwwlogs/${domain}-access.log;
    error_log /www/wwwlogs/${domain}-error.log;

    location / {
        set \$slug \$uri;
        proxy_pass ${ADMIN_API}/api/p/${domain}?slug=\$slug;
        proxy_set_header Host \$host;
        proxy_set_header X-Real-IP \$remote_addr;
        proxy_set_header X-Forwarded-For \$proxy_add_x_forwarded_for;
        proxy_cache_valid 200 1h;
    }

    location = /sitemap.xml {
        proxy_pass ${ADMIN_API}/api/p/${domain}?type=sitemap;
        add_header Content-Type application/xml;
    }

    location = /robots.txt {
        proxy_pass ${ADMIN_API}/api/p/${domain}?type=robots;
        add_header Content-Type text/plain;
    }
}
EOF

    ln -sf /etc/nginx/sites-available/${domain}.conf /etc/nginx/sites-enabled/
    echo "âœ“ ${domain} é…ç½®å®Œæˆ"
done

nginx -t && nginx -s reload
echo "ğŸ‰ æ‰€æœ‰åŸŸåNginxé…ç½®å®Œæˆï¼"
```

### 6. é…ç½®SSLè¯ä¹¦

```bash
# ä¸ºæ‰€æœ‰åŸŸåç”³è¯·Let's Encryptè¯ä¹¦
for domain in autopushnetwork.xyz contentpoolzone.site crawlboostnet.xyz; do
    certbot --nginx -d ${domain} -d www.${domain} \
      --non-interactive --agree-tos -m your-email@example.com
done
```

## ğŸ“Š Adminåå°åŠŸèƒ½

### 1. èœ˜è››æ± ç»Ÿè®¡é¡µé¢

è®¿é—®: `https://adminseohub.xyz/admin/spider-pool`

æ˜¾ç¤ºå†…å®¹ï¼š
- æ€»é¡µé¢æ•°ã€æ€»åŸŸåæ•°
- æ€»è®¿é—®é‡ã€çˆ¬è™«è®¿é—®é‡
- æ¯ä¸ªåŸŸåçš„é¡µé¢æ•°å’Œæ€§èƒ½
- æœ€è¿‘è¢«çˆ¬å–çš„é¡µé¢
- è®¿é—®è¶‹åŠ¿å›¾è¡¨

### 2. å†…å®¹æºç®¡ç†

APIç«¯ç‚¹ï¼š
- `GET /api/spider-pool/sources` - æŸ¥çœ‹æ‰€æœ‰å†…å®¹æº
- `POST /api/spider-pool/sources` - é‡æ–°æå–å†…å®¹æº

### 3. é¡µé¢ç®¡ç†

APIç«¯ç‚¹ï¼š
- `GET /api/spider-pool/pages?domainAliasId=xxx` - æŸ¥çœ‹æŸåŸŸåçš„æ‰€æœ‰é¡µé¢
- `GET /api/spider-pool/stats` - è·å–ç»Ÿè®¡æ•°æ®
- `POST /api/spider-pool/generate` - é‡æ–°ç”Ÿæˆé¡µé¢

### 4. å®æ—¶ç›‘æ§

é€šè¿‡ `spider_logs` è¡¨å®æ—¶è¿½è¸ªï¼š
- æ¯ä¸ªé¡µé¢çš„è®¿é—®é‡
- å“ªäº›çˆ¬è™«è®¿é—®äº†å“ªäº›é¡µé¢
- è®¿é—®æ—¶é—´ã€IPã€User-Agent
- Refereræ¥æº

## ğŸ”„ æ—¥å¸¸è¿ç»´

### å®šæœŸåˆ·æ–°å†…å®¹

```bash
# æ¯æœˆ1å·å‡Œæ™¨2ç‚¹åˆ·æ–°æ‰€æœ‰èœ˜è››æ± å†…å®¹
# crontab -e
0 2 1 * * curl -X POST https://adminseohub.xyz/api/spider-pool/generate \
  -H "Authorization: Bearer YOUR_TOKEN"
```

### ç›‘æ§çˆ¬è™«è®¿é—®

```sql
-- æŸ¥çœ‹æœ€è¿‘24å°æ—¶çˆ¬è™«è®¿é—®
SELECT
  da.domain,
  sl.bot,
  COUNT(*) as visits,
  MAX(sl.createdAt) as last_visit
FROM spider_logs sl
JOIN domain_aliases da ON sl.domainAliasId = da.id
WHERE sl.createdAt >= NOW() - INTERVAL '24 hours'
  AND sl.bot IS NOT NULL
GROUP BY da.domain, sl.bot
ORDER BY visits DESC;
```

### æ€§èƒ½ä¼˜åŒ–

1. **å¯ç”¨ç¼“å­˜** - Nginx proxy_cache ç¼“å­˜1å°æ—¶
2. **CDNåŠ é€Ÿ** - å¯ä»¥åœ¨Nginxå‰åŠ CloudFlare
3. **æ•°æ®åº“ç´¢å¼•** - å·²åœ¨schemaä¸­é…ç½®å¥½ç´¢å¼•
4. **é¡µé¢å‹ç¼©** - Nginx gzipå‹ç¼©

## ğŸ¯ APIå‚è€ƒ

### å…¬å¼€API (æ— éœ€è®¤è¯)

#### è·å–é¡µé¢
```http
GET /api/p/{domain}?slug={slug}

# ç¤ºä¾‹
GET /api/p/autopushnetwork.xyz?slug=page-0001
GET /api/p/autopushnetwork.xyz?slug=index
```

#### è·å–Sitemap
```http
GET /api/p/{domain}?type=sitemap

# ç¤ºä¾‹
GET /api/p/autopushnetwork.xyz?type=sitemap
```

#### è·å–Robots.txt
```http
GET /api/p/{domain}?type=robots

# ç¤ºä¾‹
GET /api/p/autopushnetwork.xyz?type=robots
```

### ç®¡ç†API (éœ€è¦è®¤è¯)

#### ç”Ÿæˆèœ˜è››æ± é¡µé¢
```http
POST /api/spider-pool/generate
Authorization: Bearer {token}
Content-Type: application/json

{
  "domainAliasId": "xxx",  // å¯é€‰ï¼Œä¸ä¼ åˆ™ä¸ºæ‰€æœ‰åŸŸåç”Ÿæˆ
  "theme": "auto",          // å¯é€‰
  "pageCount": 150,         // å¯é€‰
  "initSources": false      // æ˜¯å¦å…ˆåˆå§‹åŒ–å†…å®¹æº
}
```

#### è·å–ç»Ÿè®¡æ•°æ®
```http
GET /api/spider-pool/stats
Authorization: Bearer {token}

Response:
{
  "overview": {
    "totalPages": 1350,
    "totalDomains": 9,
    "totalViews": 5234,
    "totalCrawlerVisits": 892
  },
  "domainStats": [...],
  "recentCrawls": [...]
}
```

#### è·å–é¡µé¢åˆ—è¡¨
```http
GET /api/spider-pool/pages?domainAliasId={id}&page=1&limit=50
Authorization: Bearer {token}
```

#### åˆå§‹åŒ–å†…å®¹æº
```http
POST /api/spider-pool/sources
Authorization: Bearer {token}
```

## ğŸ“ˆ SEOä¼˜åŒ–å»ºè®®

### 1. æäº¤Sitemap

æ‰€æœ‰åŸŸåçš„sitemapè‡ªåŠ¨ç”Ÿæˆï¼š
```
https://autopushnetwork.xyz/sitemap.xml
https://contentpoolzone.site/sitemap.xml
... (å…¶ä»–7ä¸ªåŸŸå)
```

æäº¤åˆ°ï¼š
- Google Search Console
- Bing Webmaster Tools
- ç™¾åº¦ç«™é•¿å¹³å°

### 2. å†…é“¾ç­–ç•¥

âœ… **å·²å®ç°**ï¼š
- æ¯ä¸ªé¡µé¢é“¾æ¥åˆ°3ä¸ªä¸»ç«™
- é¡µé¢é—´ç›¸äº’é“¾æ¥ï¼ˆé€šè¿‡é¦–é¡µï¼‰

**å¯ä¼˜åŒ–**ï¼š
- æ·»åŠ èœ˜è››æ± åŸŸåé—´çš„äº¤å‰é“¾æ¥
- ç›¸å…³ä¸»é¢˜é¡µé¢äº’é“¾

### 3. å†…å®¹æ›´æ–°é¢‘ç‡

å»ºè®®ï¼š
- æ¯æœˆåˆ·æ–°ä¸€æ¬¡æ‰€æœ‰é¡µé¢
- æ¯å‘¨æ·»åŠ æ–°é¡µé¢æˆ–æ›´æ–°é«˜æ€§èƒ½é¡µé¢
- æ ¹æ®çˆ¬è™«è®¿é—®æ•°æ®ä¼˜åŒ–å†…å®¹

### 4. ç›‘æ§æ”¶å½•æƒ…å†µ

```bash
# Googleæ”¶å½•æ£€æŸ¥
site:autopushnetwork.xyz

# æ‰¹é‡æ£€æŸ¥æ”¶å½•
for domain in autopushnetwork.xyz contentpoolzone.site; do
  echo "æ£€æŸ¥ $domain"
  curl -s "https://www.google.com/search?q=site:${domain}" | grep "æ‰¾åˆ°çº¦"
done
```

## ğŸ”§ æ•…éšœæ’æŸ¥

### é—®é¢˜1: é¡µé¢404

**åŸå› **:
- åŸŸåæœªåœ¨æ•°æ®åº“ä¸­åˆ›å»º
- é¡µé¢æœªç”Ÿæˆ
- Nginxé…ç½®é”™è¯¯

**è§£å†³**:
```bash
# 1. æ£€æŸ¥åŸŸåæ˜¯å¦å­˜åœ¨
curl https://adminseohub.xyz/api/domains

# 2. æ£€æŸ¥é¡µé¢æ˜¯å¦ç”Ÿæˆ
curl https://adminseohub.xyz/api/spider-pool/pages?domainAliasId=xxx

# 3. é‡æ–°ç”Ÿæˆé¡µé¢
curl -X POST https://adminseohub.xyz/api/spider-pool/generate

# 4. æ£€æŸ¥Nginxé…ç½®
nginx -t
```

### é—®é¢˜2: çˆ¬è™«ä¸è®¿é—®

**åŸå› **:
- DNSæœªè§£æ
- Sitemapæœªæäº¤
- robots.txtç¦æ­¢è®¿é—®

**è§£å†³**:
```bash
# æ£€æŸ¥DNS
dig +short autopushnetwork.xyz

# æ£€æŸ¥robots.txt
curl https://autopushnetwork.xyz/robots.txt

# æäº¤sitemapåˆ°Google
# è®¿é—® Google Search Console æ‰‹åŠ¨æäº¤
```

### é—®é¢˜3: æ€§èƒ½æ…¢

**ä¼˜åŒ–æ–¹æ¡ˆ**:
```nginx
# å¯ç”¨Nginxç¼“å­˜
proxy_cache_path /var/cache/nginx levels=1:2 keys_zone=spider_cache:10m;

server {
    location / {
        proxy_cache spider_cache;
        proxy_cache_valid 200 1h;
        proxy_cache_key "$scheme$request_method$host$request_uri";
    }
}
```

## ğŸ’¡ é«˜çº§åŠŸèƒ½

### 1. A/Bæµ‹è¯•

åœ¨æ•°æ®åº“ä¸­ä¸ºåŒä¸€slugåˆ›å»ºå¤šä¸ªç‰ˆæœ¬ï¼Œéšæœºè¿”å›ï¼š

```typescript
// ä¿®æ”¹ getPageBySlug å‡½æ•°
const pages = await prisma.spiderPoolPage.findMany({
  where: { domainAliasId, slug, status: 'ACTIVE' }
})

// éšæœºè¿”å›ä¸€ä¸ªç‰ˆæœ¬
const randomPage = pages[Math.floor(Math.random() * pages.length)]
```

### 2. æ™ºèƒ½å†…å®¹è½®æ¢

æ ¹æ®çˆ¬è™«è®¿é—®æ•°æ®ï¼Œè‡ªåŠ¨ä¼˜åŒ–ä½æ€§èƒ½é¡µé¢ï¼š

```typescript
// æŸ¥æ‰¾ä½è®¿é—®é‡é¡µé¢
const lowPerformance = await prisma.spiderPoolPage.findMany({
  where: {
    views: { lt: 10 },
    createdAt: { lt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000) }
  }
})

// é‡æ–°ç”Ÿæˆè¿™äº›é¡µé¢
for (const page of lowPerformance) {
  await regeneratePage(page.id)
}
```

### 3. å¤šè¯­è¨€æ”¯æŒ

æ‰©å±•schemaæ·»åŠ languageå­—æ®µï¼š

```prisma
model SpiderPoolPage {
  // ...
  language String @default("zh-CN") // zh-CN, en-US, ja-JP
}
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- æ•°æ®åº“Schema: `packages/database/prisma/schema.prisma`
- ç”ŸæˆæœåŠ¡: `packages/database/src/services/spider-pool.service.ts`
- APIè·¯ç”±: `app/api/spider-pool/` å’Œ `app/api/p/[domain]/`
- é…ç½®è„šæœ¬: `DYNAMIC_SPIDER_POOL.md`

---

## æ€»ç»“

ç›¸æ¯”é™æ€æ–‡ä»¶æ–¹å¼ï¼ŒåŠ¨æ€èœ˜è››æ± ç³»ç»Ÿæä¾›ï¼š

âœ… **æ›´æ˜“ç®¡ç†** - ç»Ÿä¸€åå°ï¼Œæ— éœ€SSHåˆ°å¤šä¸ªVPS
âœ… **æ›´é«˜æ•ˆ** - å®æ—¶æ›´æ–°ï¼Œæ— éœ€é‡æ–°éƒ¨ç½²
âœ… **æ›´æ™ºèƒ½** - è‡ªåŠ¨è¿½è¸ªæ€§èƒ½ï¼Œæ•°æ®é©±åŠ¨ä¼˜åŒ–
âœ… **æ›´å¯é ** - æ•°æ®åº“å­˜å‚¨ï¼Œä¸æ€•æ–‡ä»¶ä¸¢å¤±
âœ… **æ›´çµæ´»** - è½»æ¾æ‰©å±•åˆ°æ›´å¤šåŸŸå

**ä¸‹ä¸€æ­¥**: åœ¨Admin UIä¸­æ·»åŠ èœ˜è››æ± ç®¡ç†é¡µé¢ï¼Œè®©æ•´ä¸ªæµç¨‹å¯è§†åŒ–ï¼ğŸš€
